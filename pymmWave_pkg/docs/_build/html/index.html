

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>pymmWave &mdash; pymmWave  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> pymmWave
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">pymmWave</a></li>
<li><a class="reference internal" href="#install">Install</a></li>
<li><a class="reference internal" href="#roadmap">Roadmap</a></li>
<li><a class="reference internal" href="#contributors">Contributors</a></li>
<li><a class="reference internal" href="#module-mmWave.IWR6843AOP">IWR6843AOPEVM Implementation</a></li>
<li><a class="reference internal" href="#module-mmWave.sensor">Abstract Sensor Class</a></li>
<li><a class="reference internal" href="#module-mmWave.data_model">Data Model</a></li>
<li><a class="reference internal" href="#module-mmWave.utils">Utilities</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">pymmWave</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>pymmWave</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pymmwave">
<h1>pymmWave<a class="headerlink" href="#pymmwave" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>pymmWave is an asynchronous TI mmWave library to expedite mmWave development.</p>
<p>A motivating example:</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="kn">from</span> <span class="nn">mmWave.sensor</span> <span class="kn">import</span> <span class="n">Sensor</span>
 <span class="kn">from</span> <span class="nn">mmWave.IWR6843AOP</span> <span class="kn">import</span> <span class="n">IWR6843AOP</span>
 <span class="kn">from</span> <span class="nn">mmWave.constants</span> <span class="kn">import</span> <span class="n">EXAMPLE_CONFIG</span>
 <span class="kn">from</span> <span class="nn">asyncio</span> <span class="kn">import</span> <span class="n">get_event_loop</span><span class="p">,</span> <span class="n">sleep</span>

 <span class="n">sensor1</span> <span class="o">=</span> <span class="n">IWR6843AOP</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

 <span class="n">config_connected</span> <span class="o">=</span> <span class="n">sensor1</span><span class="o">.</span><span class="n">connect_config</span><span class="p">(</span><span class="s1">&#39;/dev/tty.SLAB_USBtoUART4&#39;</span><span class="p">,</span> <span class="mi">115200</span><span class="p">)</span>
 <span class="k">if</span> <span class="ow">not</span> <span class="n">config_connected</span><span class="p">:</span>
     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Config connection failed.&quot;</span><span class="p">)</span>
     <span class="n">exit</span><span class="p">()</span>
 <span class="n">data_connected</span> <span class="o">=</span> <span class="n">sensor1</span><span class="o">.</span><span class="n">connect_data</span><span class="p">(</span><span class="s1">&#39;/dev/tty.SLAB_USBtoUART&#39;</span><span class="p">,</span> <span class="mi">921600</span><span class="p">)</span>

 <span class="k">if</span> <span class="ow">not</span> <span class="n">sensor1</span><span class="o">.</span><span class="n">send_config</span><span class="p">(</span><span class="n">EXAMPLE_CONFIG</span><span class="p">,</span> <span class="n">max_retries</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sending config failed&quot;</span><span class="p">)</span>
     <span class="n">exit</span><span class="p">()</span>

 <span class="n">sensor1</span><span class="o">.</span><span class="n">configure_filtering</span><span class="p">(</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>

 <span class="k">async</span> <span class="k">def</span> <span class="nf">print_data</span><span class="p">(</span><span class="n">sens</span><span class="p">:</span> <span class="n">Sensor</span><span class="p">):</span>
     <span class="k">await</span> <span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
     <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
         <span class="nb">print</span><span class="p">(</span><span class="k">await</span> <span class="n">sens</span><span class="o">.</span><span class="n">get_data</span><span class="p">())</span>

 <span class="n">event_loop</span> <span class="o">=</span> <span class="n">get_event_loop</span><span class="p">()</span>

 <span class="n">event_loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">sensor1</span><span class="o">.</span><span class="n">start_sensor</span><span class="p">())</span>
 <span class="n">event_loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">print_data</span><span class="p">(</span><span class="n">sensor1</span><span class="p">))</span>
 <span class="n">event_loop</span><span class="o">.</span><span class="n">run_forever</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>This simple working example demonstrates how with simple asynchronous integration, realtime applications can integrate with mmWave sensors easily.</p>
<p>This library was designed to work with the commercial off-the-shelf (COTS) TI IWR6843AOPEVM. While TI does provide a web interface to this product, there were no straightforward Python implementations available.</p>
<p>The goal of this library is such that if you purchase this EVM, within minutes of unboxing, it should be hackable in Python.</p>
</div>
<div class="section" id="install">
<h1>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h1>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pymmwave</span>
</pre></div>
</div>
</div>
<div class="section" id="roadmap">
<h1>Roadmap<a class="headerlink" href="#roadmap" title="Permalink to this headline">¶</a></h1>
<p>Currently, this is a simple library providing low-overhead integration with COTS sensors.</p>
<p>The goal is to provide a set of useful RADAR optimized algorithms to expedite research and development. These applications will rely on the abstract Sensor implementations listed below, such that they can be used by developers writing custom RADAR sensor implementations.</p>
<p>We currently do not modify the firmware of the TI RADAR sensors and have no intention to provide support for this. While this tool can be easily modified for custom firmware, that is not the intention.</p>
</div>
<div class="section" id="contributors">
<h1>Contributors<a class="headerlink" href="#contributors" title="Permalink to this headline">¶</a></h1>
<p>Thanks to the University of California, Santa Barbara, and AeroVironment for providing the backing for this tools creation.</p>
<p>Notably, Jackie Burd, Tiffany Cowan, Peter Feghali, Yogananda Isukapalli, Cher Lin, Swetha Pillai, Scott Rasmussen, and Phil Tokumaru.</p>
</div>
<div class="section" id="module-mmWave.IWR6843AOP">
<span id="iwr6843aopevm-implementation"></span><h1>IWR6843AOPEVM Implementation<a class="headerlink" href="#module-mmWave.IWR6843AOP" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="mmWave.IWR6843AOP.IWR6843AOP">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmWave.IWR6843AOP.</span></code><code class="sig-name descname"><span class="pre">IWR6843AOP</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmWave.IWR6843AOP.IWR6843AOP" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract <a class="reference internal" href="#mmWave.sensor.Sensor" title="mmWave.sensor.Sensor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Sensor</span></code></a> class implementation for interfacing with the COTS TI IWR6843AOP evaluation board.
Can be initialized with a public ‘name’, which can be used for sensor reference. This class supports point-cloud retrieval with doppler information on a per-point basis.
The class can also be designed to automatically filter by doppler data to limit noisy data points.</p>
<dl class="py method">
<dt id="mmWave.IWR6843AOP.IWR6843AOP.configure_filtering">
<code class="sig-name descname"><span class="pre">configure_filtering</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doppler_filtering</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="headerlink" href="#mmWave.IWR6843AOP.IWR6843AOP.configure_filtering" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets basic doppler filtering to allow for static noise removal.
Doppler filtering sets a floor for doppler results, to remove points less than the input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>doppler_filtering</strong> (<em>float</em><em>, </em><em>optional</em>) – Doppler removal level, recommended to be fairly low. Defaults to 0.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>success</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mmWave.IWR6843AOP.IWR6843AOP.connect_config">
<code class="sig-name descname"><span class="pre">connect_config</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">com_port</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baud_rate</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="headerlink" href="#mmWave.IWR6843AOP.IWR6843AOP.connect_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to the config port. Must be done before sending config.
This function will timeout after a second by default. This timeout period is low since programmatically connecting to serial ports might be difficult with long timeout periods, as it is difficult to know apriori if you are connecting to config or data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>com_port</strong> (<em>str</em>) – Port name to use</p></li>
<li><p><strong>baud_rate</strong> (<em>int</em>) – Baud rate</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Timeout. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if successful</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>On MacOS, for example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_sensor</span><span class="o">.</span><span class="n">connect_config</span><span class="p">(</span><span class="s1">&#39;/dev/tty.SLAB_USBtoUART4&#39;</span><span class="p">,</span> <span class="mi">115200</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="mmWave.IWR6843AOP.IWR6843AOP.connect_data">
<code class="sig-name descname"><span class="pre">connect_data</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">com_port</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baud_rate</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="headerlink" href="#mmWave.IWR6843AOP.IWR6843AOP.connect_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect the data serial port. Must be done before sending config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>com_port</strong> (<em>str</em>) – Port name to use</p></li>
<li><p><strong>baud_rate</strong> (<em>int</em>) – Baud rate</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Timeout. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if successful</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>On MacOS, for example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_sensor</span><span class="o">.</span><span class="n">connect_data</span><span class="p">(</span><span class="s1">&#39;/dev/tty.SLAB_USBtoUART&#39;</span><span class="p">,</span> <span class="mi">921600</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="mmWave.IWR6843AOP.IWR6843AOP.get_data">
<em class="property"><span class="pre">async</span> </em><code class="sig-name descname"><span class="pre">get_data</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#mmWave.data_model.DopplerPointCloud" title="mmWave.data_model.DopplerPointCloud"><span class="pre">mmWave.data_model.DopplerPointCloud</span></a><a class="headerlink" href="#mmWave.IWR6843AOP.IWR6843AOP.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns data when it is ready. This function also updates the frequency measurement of the sensor.
This function is blocking.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>[description]</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#mmWave.data_model.DopplerPointCloud" title="mmWave.data_model.DopplerPointCloud">DopplerPointCloud</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mmWave.IWR6843AOP.IWR6843AOP.get_data_nowait">
<code class="sig-name descname"><span class="pre">get_data_nowait</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#mmWave.data_model.DopplerPointCloud" title="mmWave.data_model.DopplerPointCloud"><span class="pre">mmWave.data_model.DopplerPointCloud</span></a><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#mmWave.IWR6843AOP.IWR6843AOP.get_data_nowait" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns data if it is ready, otherwise none. This function also updates the frequency measurement of the sensor if data is available.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Data if there is data available, otherwise returns None.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Optional[<a class="reference internal" href="#mmWave.data_model.DopplerPointCloud" title="mmWave.data_model.DopplerPointCloud">DopplerPointCloud</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mmWave.IWR6843AOP.IWR6843AOP.get_update_freq">
<code class="sig-name descname"><span class="pre">get_update_freq</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">float</span><a class="headerlink" href="#mmWave.IWR6843AOP.IWR6843AOP.get_update_freq" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the frequency that the sensor is returning data at. This is not equivalent to the true capacity of the sensor, but rather the rate which the application is successfully getting data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Hz</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mmWave.IWR6843AOP.IWR6843AOP.is_alive">
<code class="sig-name descname"><span class="pre">is_alive</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="headerlink" href="#mmWave.IWR6843AOP.IWR6843AOP.is_alive" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter which verifies connection to this particular sensor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the sensor is still connected.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mmWave.IWR6843AOP.IWR6843AOP.model">
<code class="sig-name descname"><span class="pre">model</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">str</span><a class="headerlink" href="#mmWave.IWR6843AOP.IWR6843AOP.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the particular model number supported with this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>“IWR6843AOP”</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mmWave.IWR6843AOP.IWR6843AOP.send_config">
<code class="sig-name descname"><span class="pre">send_config</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_retries</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="headerlink" href="#mmWave.IWR6843AOP.IWR6843AOP.send_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Tried to send a TI config, with a simple retry mechanism.
Configuration files can be created here: <cite>https://dev.ti.com/gallery/view/mmwave/mmWave_Demo_Visualizer/ver/3.5.0/</cite>. Future support may be built for creating configuration files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – List of strings making up the config</p></li>
<li><p><strong>max_retries</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of times to retry on failure. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If sending was successful</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>SerialException</strong> – If device is disconnected before completion, SerialExceptions may be raised.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mmWave.IWR6843AOP.IWR6843AOP.start_sensor">
<em class="property"><span class="pre">async</span> </em><code class="sig-name descname"><span class="pre">start_sensor</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="headerlink" href="#mmWave.IWR6843AOP.IWR6843AOP.start_sensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the sensor and will place data into a queue.
The goal of this function is to manage the state of the entire application. Nothing will happen if this function is not run with asyncio.
This function attempts to read data from the sensor as quickly as it can, then extract positional+doppler data, and place data into an asyncio.Queue.
Since this relies on the asyncio Queue, limitations may stem from asyncio. These issues, mainly revolving around thread safety, can be dealt with at the application layer.</p>
<p>This function also actively attempts to context switch between intervals to minimize overhead.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>Exception</strong> – If sensor has some failure, will throw a SerialException.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mmWave.IWR6843AOP.IWR6843AOP.stop_sensor">
<code class="sig-name descname"><span class="pre">stop_sensor</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmWave.IWR6843AOP.IWR6843AOP.stop_sensor" title="Permalink to this definition">¶</a></dt>
<dd><p>This function attempts to close all serial ports and update internal state booleans.</p>
</dd></dl>

<dl class="py method">
<dt id="mmWave.IWR6843AOP.IWR6843AOP.type">
<code class="sig-name descname"><span class="pre">type</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#mmWave.sensor.Sensor.SensorType" title="mmWave.sensor.Sensor.SensorType"><span class="pre">mmWave.sensor.Sensor.SensorType</span></a><a class="headerlink" href="#mmWave.IWR6843AOP.IWR6843AOP.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns enum <code class="xref py py-obj docutils literal notranslate"><span class="pre">Sensor.SensorType</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Sensor.SensorType.POINT_CLOUD3D</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mmWave.sensor">
<span id="abstract-sensor-class"></span><h1>Abstract Sensor Class<a class="headerlink" href="#module-mmWave.sensor" title="Permalink to this headline">¶</a></h1>
<dl class="py exception">
<dt id="mmWave.sensor.InvalidSensorException">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">mmWave.sensor.</span></code><code class="sig-name descname"><span class="pre">InvalidSensorException</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmWave.sensor.InvalidSensorException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="mmWave.sensor.Sensor">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmWave.sensor.</span></code><code class="sig-name descname"><span class="pre">Sensor</span></code><a class="headerlink" href="#mmWave.sensor.Sensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Base sensor class. The goal of this class implementation is such that users can implement classes which can then be used with our library of algorithms easily.</p>
<dl class="py class">
<dt id="mmWave.sensor.Sensor.SensorType">
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">SensorType</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmWave.sensor.Sensor.SensorType" title="Permalink to this definition">¶</a></dt>
<dd><p>Enum class for sensor types</p>
</dd></dl>

<dl class="py method">
<dt id="mmWave.sensor.Sensor.get_data">
<em class="property"><span class="pre">abstract</span> <span class="pre">async</span> </em><code class="sig-name descname"><span class="pre">get_data</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#mmWave.data_model.DataModel" title="mmWave.data_model.DataModel"><span class="pre">mmWave.data_model.DataModel</span></a><a class="headerlink" href="#mmWave.sensor.Sensor.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return data from sensor.</p>
</dd></dl>

<dl class="py method">
<dt id="mmWave.sensor.Sensor.get_data_nowait">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">get_data_nowait</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#mmWave.data_model.DataModel" title="mmWave.data_model.DataModel"><span class="pre">mmWave.data_model.DataModel</span></a><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#mmWave.sensor.Sensor.get_data_nowait" title="Permalink to this definition">¶</a></dt>
<dd><p>Return data from sensor if available, otherwise None.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Data if there is data available, otherwise returns None.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Optional[<a class="reference internal" href="#mmWave.data_model.DopplerPointCloud" title="mmWave.data_model.DopplerPointCloud">DopplerPointCloud</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mmWave.sensor.Sensor.get_update_freq">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">get_update_freq</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">float</span><a class="headerlink" href="#mmWave.sensor.Sensor.get_update_freq" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the sensor update freq. This is reccommended to be the actual rate of data access.</p>
</dd></dl>

<dl class="py method">
<dt id="mmWave.sensor.Sensor.is_alive">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">is_alive</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="headerlink" href="#mmWave.sensor.Sensor.is_alive" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if sensor is still alive</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if alive</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mmWave.sensor.Sensor.model">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">model</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">str</span><a class="headerlink" href="#mmWave.sensor.Sensor.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the model of a sensor</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Name of sensor</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mmWave.sensor.Sensor.start_sensor">
<em class="property"><span class="pre">abstract</span> <span class="pre">async</span> </em><code class="sig-name descname"><span class="pre">start_sensor</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="headerlink" href="#mmWave.sensor.Sensor.start_sensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Asynchronous loop that can be run as a corouting with asyncio, or other asynchronous libraries.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Nothing, will be run as a coroutine!</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mmWave.sensor.Sensor.stop_sensor">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">stop_sensor</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmWave.sensor.Sensor.stop_sensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop sensor</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Nothing, kills everything</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mmWave.sensor.Sensor.type">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">type</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#mmWave.sensor.Sensor.SensorType" title="mmWave.sensor.Sensor.SensorType"><span class="pre">mmWave.sensor.Sensor.SensorType</span></a><a class="headerlink" href="#mmWave.sensor.Sensor.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the type of a sensor</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Type of sensor</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mmWave.sensor.SpatialSensor">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmWave.sensor.</span></code><code class="sig-name descname"><span class="pre">SpatialSensor</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sens</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#mmWave.sensor.Sensor" title="mmWave.sensor.Sensor"><span class="pre">mmWave.sensor.Sensor</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pitch_rads</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmWave.sensor.SpatialSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper to provide the notion of a sensor in space</p>
</dd></dl>

</div>
<div class="section" id="module-mmWave.data_model">
<span id="data-model"></span><h1>Data Model<a class="headerlink" href="#module-mmWave.data_model" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="mmWave.data_model.DataModel">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmWave.data_model.</span></code><code class="sig-name descname"><span class="pre">DataModel</span></code><a class="headerlink" href="#mmWave.data_model.DataModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Base Data Class</p>
</dd></dl>

<dl class="py class">
<dt id="mmWave.data_model.DopplerPointCloud">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmWave.data_model.</span></code><code class="sig-name descname"><span class="pre">DopplerPointCloud</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmWave.data_model.DopplerPointCloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Fairly lightweight class for X, Y, Z, and doppler data.</p>
<dl class="py method">
<dt id="mmWave.data_model.DopplerPointCloud.append">
<code class="sig-name descname"><span class="pre">append</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#mmWave.data_model.DopplerPointCloud" title="mmWave.data_model.DopplerPointCloud"><span class="pre">mmWave.data_model.DopplerPointCloud</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="headerlink" href="#mmWave.data_model.DopplerPointCloud.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append another DopplerPointCloud object to this one in-place</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>other</strong> (<a class="reference internal" href="#mmWave.data_model.DopplerPointCloud" title="mmWave.data_model.DopplerPointCloud"><em>DopplerPointCloud</em></a>) – Another object of the same type</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If success, true.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mmWave.data_model.DopplerPointCloud.get">
<code class="sig-name descname"><span class="pre">get</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="headerlink" href="#mmWave.data_model.DopplerPointCloud.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the underlying data container.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The underlying data matrix.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mmWave.data_model.DopplerPointCloud.translate_rotate">
<code class="sig-name descname"><span class="pre">translate_rotate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pitch_rads</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">scipy.spatial.transform.rotation.Rotation</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmWave.data_model.DopplerPointCloud.translate_rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates and rotates the underlying object. This is done in-place, no further verification is done.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>, </em><em>float</em><em>]</em>) – Tuple of float values to shift the underlying data with: (x meters, y meters, z meters)</p></li>
<li><p><strong>pitch_rads</strong> (<em>Rotation</em>) – Rotation matrix object from scipy.spatial.transform.rotation.Rotation</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mmWave.utils">
<span id="utilities"></span><h1>Utilities<a class="headerlink" href="#module-mmWave.utils" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="mmWave.utils.load_cfg_file">
<code class="sig-prename descclassname"><span class="pre">mmWave.utils.</span></code><code class="sig-name descname"><span class="pre">load_cfg_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">list</span><a class="headerlink" href="#mmWave.utils.load_cfg_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a config file to a list of strings. Wrapper around readlines() with some simple verification.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filepath</strong> (<em>str</em>) – Filepath, relative paths should be ok</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of lines as str</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Peter Feghali.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>